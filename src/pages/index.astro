---
import Layout from '~/layouts/PageLayout.astro';
import Content from '~/components/widgets/Content.astro';
import Brands from '~/components/widgets/Brands.astro';
import Features from '~/components/widgets/Features.astro';
import Steps from '~/components/widgets/Steps.astro';
import Hero from '~/components/widgets/Hero.astro';
import SkillRadar from '~/components/widgets/SkillRadar.astro';
import GlitchProfileImage from '~/components/ui/GlitchProfileImage.astro';
import BackgroundImage from '~/components/ui/BackgroundImage.astro';

// Daten-Imports
import { resumeItems } from '~/data/resume';
import { certificateItems } from '~/data/certificates';
import { projectItems } from '~/data/projects';
import { skillItems } from '~/data/skills';
import { contactItems, profileText } from '~/data/profile';
import {
  primaryTechStack,
  secondaryTechStack,
  projectManagementMethods,
  toolStack,
  cmsStack,
  abstractItems,
} from '~/data/tech-stack';

const metadata = {
  title: 'pxlngn | PIXEL ENGINE {Profil}',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <Hero
    id="hero"
    title="Hallo,<br/> mein Name<br/> ist Alain."
    tagline="intro"
    headingLevel="h1"
    class="section-border"
    actions={[{ variant: 'secondary', text: 'Profil', href: '#profile', icon: 'tabler:user' }]}
  >
    <BackgroundImage slot="bg" src="/images/hero-intro.webp" fetchpriority="high" loading="eager" />

    <Fragment slot="subtitle">
      <span data-animate data-anim-type="typewriter">Entwickler mit Fokus auf Frontend.</span>
    </Fragment>
  </Hero>

  <!-- About Section -->
  <Content id="about" columns={3} items={contactItems}>
    <BackgroundImage slot="bg" src="/images/profile-background.webp" />

    <Fragment slot="image">
      <div class="relative m-auto max-w-4xl space-y-8" data-animate data-anim-type="fade-up">
        <GlitchProfileImage
          alt="Alain Ritter - Profilbild"
          width={500}
          height={500}
          glowColor="cyan"
          class="mx-auto w-full"
        />
      </div>
    </Fragment>

    <Fragment slot="content">
      <h2 class="Anklepants text-1xl mb-2 tracking-tight dark:text-white sm:text-2xl">
        <span data-animate data-anim-type="typewriter">Ich bin</span>
        <span data-animate data-anim-type="cycle-typewriter"></span>
      </h2>

      <p data-animate data-anim-type="typewriter" set:html={profileText.description} />
    </Fragment>
  </Content>

  <!-- Profile Hero -->
  <Hero
    id="profile"
    title="Dev<br/>mit Herz."
    tagline="Profil"
    headingLevel="h3"
    actions={[{ variant: 'primary', text: 'Skills', href: '#skills', icon: 'tabler:adjustments' }]}
  >
    <BackgroundImage slot="bg" src="/images/profile-background.webp" />

    <Fragment slot="subtitle">
      <span data-animate data-anim-type="typewriter">
        Design trifft Code. Hier steht, was ich kann und wie ich ticke.
      </span>
    </Fragment>
  </Hero>

  <!-- Resume Section -->
  <Steps
    id="resume"
    tagline="Lebenslauf"
    title="Meine<br/>Laufbahn"
    items={resumeItems}
    classes={{ container: 'section-border max-w-3xl' }}
  >
    <BackgroundImage slot="bg" src="/images/dark-abstract.webp" />
  </Steps>

  <!-- Certificates Section -->
  <Steps id="certificates" title="Zertifikate" items={certificateItems} classes={{ container: 'max-w-3xl' }}>
    <BackgroundImage slot="bg" src="/images/certificates-background.webp" />
  </Steps>

  <!-- Projects Section -->
  <Features
    id="projects"
    tagline="Projekte"
    title="<span class='leading-tighter Anklepants leading-tighter mb-4 break-all font-heading text-5xl tracking-tighter dark:text-gray-200 md:text-7xl'>Projekte</span>"
    subtitle="Projekte, die ich als PM und Dev begleitet habe."
    items={projectItems}
    columns={2}
    defaultIcon="tabler:world"
    classes={{ container: 'max-w-5xl section-border dark:bg-transparent' }}
  >
    <BackgroundImage slot="bg" src="/images/dark-abstract.webp" />
  </Features>

  <!-- Skill Chart Section -->
  <Hero id="skills" title="History" tagline="Skills" headingLevel="h2">
    <BackgroundImage slot="bg" src="/images/profile-background.webp" />

    <Fragment slot="content">
      <div class="mx-auto max-w-4xl">
        <SkillRadar />
      </div>
    </Fragment>
  </Hero>

  <!-- Skills Section -->
  <Features
    id="experience"
    tagline=""
    title="Meine<br/>Erfahrung"
    subtitle="Über 20 Jahre, von Web-Dev über Scrum Master bis Teamleitung. Projekte aufgebaut, Teams geführt, Code geschrieben."
    items={skillItems}
    columns={3}
    defaultIcon="tabler:point-filled"
    classes={{ container: 'max-w-5xl section-border section-border-top dark:bg-transparent' }}
  >
    <BackgroundImage slot="bg" src="/images/dark-abstract.webp" />
  </Features>

  <!-- Tech Stack - Primary -->
  <Brands
    id="tech"
    title="Software<br/> Stack"
    subtitle="Damit arbeite ich aktuell am liebsten."
    images={primaryTechStack}
    icons={[]}
    classes={{ container: 'max-w-3xl dark:bg-transparent pt-12 md:pt-16 lg:pt-20 pb-0 md:pb-0 lg:pb-0' }}
  >
    <BackgroundImage slot="bg" src="/images/tech-background.webp" />
  </Brands>

  <!-- Tech Stack - Secondary -->
  <Brands
    id="learning"
    title=""
    subtitle="Seltener genutzt, aber bekannt."
    images={secondaryTechStack}
    icons={[]}
    classes={{ container: 'max-w-3xl dark:bg-transparent pt-12 md:pt-16 lg:pt-20 pb-0 md:pb-0 lg:pb-0' }}
  >
    <BackgroundImage slot="bg" src="/images/tech-background.webp" />
  </Brands>

  <!-- Project Management -->
  <Brands
    title="Projekt<br/> management"
    subtitle="Scrum, Kanban, Waterfall - je nachdem was passt."
    images={projectManagementMethods}
    icons={[]}
    classes={{ container: 'max-w-3xl dark:bg-transparent pt-12 md:pt-16 lg:pt-20 pb-0 md:pb-0 lg:pb-0' }}
  >
    <BackgroundImage slot="bg" src="/images/tech-background.webp" />
  </Brands>

  <!-- Tools -->
  <Brands
    title="Tools"
    subtitle="Mein Tech-Arsenal."
    images={toolStack}
    icons={[]}
    classes={{ container: 'max-w-4xl dark:bg-transparent pt-12 md:pt-16 lg:pt-20 pb-0 md:pb-0 lg:pb-0' }}
  >
    <BackgroundImage slot="bg" src="/images/tech-background.webp" />
  </Brands>

  <!-- CMS -->
  <Brands
    title="CMS"
    subtitle="CMS-Erfahrung - mit allen Vor- und Nachteilen."
    images={cmsStack}
    icons={[]}
    classes={{ container: 'dark:bg-transparent max-w-3xl' }}
  >
    <BackgroundImage slot="bg" src="/images/tech-background.webp" />
  </Brands>

  <!-- Abstract/Services -->
  <Features
    id="abstract"
    tagline=""
    title="Was ich<br/> anbiete"
    subtitle="Development, PM, QA. Code-Qualität, Stabilität, Effizienz."
    items={abstractItems}
    classes={{ container: 'max-w-3xl section-border-top' }}
  >
    <BackgroundImage slot="bg" src="/images/services-background.webp" />
  </Features>
</Layout>
